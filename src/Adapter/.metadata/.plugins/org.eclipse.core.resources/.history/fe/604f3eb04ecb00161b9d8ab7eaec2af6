/*
 *
 * led.h
 *
 *  Created on: 2016年12月22日
 *      Author: Topon-Edison
 *      */


/**
 * @brief The class for adapter's led which are
 * used for indicating the communication between
 * adapter and ECUS
 *
 */

#ifndef DRIVERS_INC_LED_H_
#define DRIVERS_INC_LED_H_

class LedTimer; // declaration of the LedTimer;
typedef void (*Led_Callback_T) ();// define the callback function type

const int lighten_minimum_gap = 10; // the minimum gap of the blink longeverty
const int lighten_time_of_minium_gap = 10;

using namespace std;

class Led
{
public:

	static Led* instance();
    void Start_timer();
    void Stop_timer();
    void Lighten_Led_TX();
    void Lighten_Led_RX();
	void Off_Led_TX();
	void Off_Led_RX();
	void Toggle_Led_TX();
	void Toggle_Led_RX();

	~Led();
private:
	Led();
	static void Led_Callback();
	LedTimer * led_timer_;
	volatile int tx_count_;
	volatile int rx_count_;
};






#endif /* DRIVERS_INC_LED_H_ */
